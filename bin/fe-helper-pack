#!/usr/bin/env node

'use strict';

var program = require('commander'),
	helpers = require('../index.js'),
	pkg = require('./../package.json');

	program.version(pkg.version)
		.option('--type [type]', 'release type')
		.option('--release', 'release new pkg version')
		.parse(process.argv);


var releaseType;


if (program.release) {
	releaseType = program.type || helpers.teamcity.getProperty('release.type');
	helpers.release.performRelease(releaseType);
}
//helpers.release.setTeamcityVersion();

//var GITRepo = require('../dist/release/GITRepo.js');
//
//var repo = new GITRepo(process.cwd());
//
//repo.getStatus().then(function() {console.log(arguments)}).catch(function() {console.log(arguments)});